(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{1007:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},3168:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});let s=(0,r(5647).UU)("https://emgudyxilflyykdhjhin.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtZ3VkeXhpbGZseXlrZGhqaGluIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1MjQ0MTYsImV4cCI6MjA2NzEwMDQxNn0.NlGROS4aMEr3OnfSOiux0uCeLRVxzsD_43sR7CRYO_4")},3729:(e,t,r)=>{Promise.resolve().then(r.bind(r,9905))},3861:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),a=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5968:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),i=r(9708),l=r(2085),n=r(3999);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...o}=e,h=d?i.DX:"button";return(0,s.jsx)(h,{className:(0,n.cn)(c({variant:a,size:l,className:r})),ref:t,...o})});d.displayName="Button"},7924:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8145:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(5155);r(2115);var a=r(2085),i=r(3999);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(l({variant:r}),t),...a})}},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>n});var s=r(5155),a=r(2115),i=r(3999);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},8883:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9375:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});let s=[{id:"1",title:"iPhone 14 Pro",description:"Excellent condition iPhone 14 Pro with original box and all accessories. No scratches or damage.",price:899,category:"Electronics",location:"Palo Alto, CA",seller_email:"seller1@example.com",seller_name:"John Doe",image_url:"/placeholder.svg?height=300&width=300",created_at:new Date(Date.now()-36e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString()},{id:"2",title:"Mountain Bike 24 inch",description:"Great condition mountain bike perfect for trails and city riding. Recently serviced.",price:299,category:"Sporting Goods",location:"Palo Alto, CA",seller_email:"seller2@example.com",seller_name:"Jane Smith",image_url:"/placeholder.svg?height=300&width=300",created_at:new Date(Date.now()-72e5).toISOString(),updated_at:new Date(Date.now()-72e5).toISOString()},{id:"3",title:"Gaming Laptop RTX 4070",description:"High-performance gaming laptop with RTX 4070 graphics card. Perfect for gaming and work.",price:1299,category:"Electronics",location:"Palo Alto, CA",seller_email:"seller3@example.com",seller_name:"Mike Johnson",image_url:"/placeholder.svg?height=300&width=300",created_at:new Date(Date.now()-108e5).toISOString(),updated_at:new Date(Date.now()-108e5).toISOString()},{id:"4",title:"Dining Table Set",description:"Beautiful solid wood dining table with 6 chairs. Perfect for family dinners.",price:450,category:"Home Goods",location:"Palo Alto, CA",seller_email:"seller4@example.com",seller_name:"Sarah Wilson",image_url:"/placeholder.svg?height=300&width=300",created_at:new Date(Date.now()-144e5).toISOString(),updated_at:new Date(Date.now()-144e5).toISOString()},{id:"5",title:"Toyota Camry 2020",description:"Well maintained sedan with low mileage. Clean title, no accidents.",price:18500,category:"Vehicles",location:"Palo Alto, CA",seller_email:"seller5@example.com",seller_name:"David Brown",image_url:"/placeholder.svg?height=300&width=300",created_at:new Date(Date.now()-18e6).toISOString(),updated_at:new Date(Date.now()-18e6).toISOString()}]},9464:(e,t,r)=>{"use strict";r.d(t,{Y:()=>x});var s=r(5155),a=r(6874),i=r.n(a),l=r(7168),n=r(7924),c=r(5968),d=r(8883),o=r(3861),h=r(1007),m=r(4616);function x(){return(0,s.jsx)("header",{className:"border-b bg-white",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(i(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:"F"})}),(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Marketplace"})]}),(0,s.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,s.jsx)(i(),{href:"/search",className:"text-gray-600 hover:text-gray-900",children:"Browse"}),(0,s.jsx)(i(),{href:"/my-listings",className:"text-gray-600 hover:text-gray-900",children:"My Listings"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,s.jsx)(i(),{href:"/search",children:(0,s.jsx)(n.A,{className:"h-5 w-5"})})}),(0,s.jsx)(l.$,{variant:"ghost",size:"icon",asChild:!0,children:(0,s.jsx)(i(),{href:"/my-listings",children:(0,s.jsx)(c.A,{className:"h-5 w-5"})})}),(0,s.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(d.A,{className:"h-5 w-5"})}),(0,s.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(o.A,{className:"h-5 w-5"})}),(0,s.jsx)(l.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(h.A,{className:"h-5 w-5"})}),(0,s.jsx)(l.$,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/create",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Create Listing"]})})]})]})})})}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(5155),a=r(2115),i=r(3999);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},9905:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(5155),a=r(2115),i=r(9464),l=r(7168),n=r(9852),c=r(8482),d=r(8145),o=r(4616),h=r(7924),m=r(9946);let x=(0,m.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),u=(0,m.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var g=r(6874),f=r.n(g),p=r(3168),v=r(9375);function y(){let[e,t]=(0,a.useState)([]),[r,m]=(0,a.useState)(""),[g,y]=(0,a.useState)(!0),[j,b]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=localStorage.getItem("userEmail")||"seller1@example.com";b(e),N(e)},[]);let N=async e=>{try{let{data:r,error:s}=await p.N.from("listings").select("*").eq("seller_email",e).order("created_at",{ascending:!1});if(s){let r=v.L.filter(t=>t.seller_email===e);t(r);return}t(r||[])}catch(e){console.error("Error fetching user listings:",e),t(v.L.filter(e=>e.seller_email===j))}finally{y(!1)}},w=async r=>{if(confirm("Are you sure you want to delete this listing?"))try{let{error:s}=await p.N.from("listings").delete().eq("id",r);if(s)throw s;t(e.filter(e=>e.id!==r))}catch(e){console.error("Error deleting listing:",e),alert("Failed to delete listing. Please try again.")}},k=e.filter(e=>{var t;return e.title.toLowerCase().includes(r.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))});return g?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,s.jsx)(i.Y,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,s.jsx)(i.Y,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"My Listings"}),(0,s.jsx)(l.$,{asChild:!0,children:(0,s.jsxs)(f(),{href:"/create",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create New Listing"]})})]}),(0,s.jsx)("div",{className:"flex gap-4 mb-6",children:(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,s.jsx)(n.p,{placeholder:"Search your listings...",value:r,onChange:e=>m(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{className:"pb-2",children:(0,s.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Listings"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.length})})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{className:"pb-2",children:(0,s.jsx)(c.ZB,{className:"text-sm font-medium",children:"Active Listings"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.length})})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsx)(c.aR,{className:"pb-2",children:(0,s.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Value"})}),(0,s.jsx)(c.Wu,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",e.reduce((e,t)=>e+t.price,0).toLocaleString()]})})]})]})]}),0===k.length?(0,s.jsx)(c.Zp,{className:"text-center py-12",children:(0,s.jsxs)(c.Wu,{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No listings found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:r?"Try adjusting your search terms.":"You haven't created any listings yet."}),!r&&(0,s.jsx)(l.$,{asChild:!0,children:(0,s.jsxs)(f(),{href:"/create",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"Create Your First Listing"]})})]})}):(0,s.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,s.jsx)(c.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex gap-6",children:[(0,s.jsx)("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex-shrink-0 overflow-hidden",children:(0,s.jsx)("img",{src:e.image_url||"/placeholder.svg?height=128&width=128",alt:e.title,className:"w-full h-full object-cover"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-green-600 mb-2",children:["$",e.price.toLocaleString()]}),(0,s.jsx)(d.E,{variant:"secondary",className:"mb-2",children:e.category}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:["Listed ",new Date(e.created_at).toLocaleDateString()]}),e.description&&(0,s.jsx)("p",{className:"text-gray-700 line-clamp-2",children:e.description})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.$,{variant:"outline",size:"sm",asChild:!0,children:(0,s.jsx)(f(),{href:"/listing/".concat(e.id),children:(0,s.jsx)(x,{className:"h-4 w-4"})})}),(0,s.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>w(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(u,{className:"h-4 w-4"})})]})]})})]})},e.id))})]})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:c?24*Number(n)/Number(a):n,className:i("lucide",d),...m},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:c,...d}=r;return(0,s.createElement)(n,{ref:l,iconNode:t,className:i("lucide-".concat(a(e)),c),...d})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[309,441,684,358],()=>t(3729)),_N_E=e.O()}]);